# ğŸš€ Notion-Files-Management (v2.0 é‡æ„ç‰ˆ)

å°† Notion å˜èº«ä¸ºæ— é™å®¹é‡ç§æœ‰äº‘ç›˜

## ğŸ“¦ v2.0 é‡æ„è¯´æ˜

æœ¬ç‰ˆæœ¬åŸºäº **Notion API 2025-09-03** ç‰ˆæœ¬è¿›è¡Œäº†å®Œå…¨é‡æ„ï¼š

### æ ¸å¿ƒæ”¹è¿›

| ç‰¹æ€§ | æ—§ç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ |
|------|--------|--------|
| APIç‰ˆæœ¬ | 2022-06-28 | **2025-09-03** |
| å°æ–‡ä»¶é˜ˆå€¼ | æ— åŒºåˆ† | **20MBç›´ä¼ ** |
| åˆ†ç‰‡å¤§å° | 5MB | **10MB** |
| Blockç±»å‹ | ä»…file | **image/video/audio/pdf/file** |
| è¿›åº¦æ˜¾ç¤º | ç®€å•æ–‡æœ¬ | **Rich UIé¢æ¿** |
| ä¼šè¯é‡å»º | æ•´ä½“é‡è¯• | **åˆ†ç‰‡çº§åˆ«æ£€æµ‹+é‡å»º** |

### ä¸Šä¼ é€»è¾‘é‡å†™

1. **æ™ºèƒ½åˆ†æµ**
   - å°æ–‡ä»¶ (â‰¤20MB): å•æ¬¡ç›´ä¼ ï¼Œé€Ÿåº¦æ›´å¿«
   - å¤§æ–‡ä»¶ (>20MB): 10MBåˆ†ç‰‡ä¸Šä¼ 

2. **Blockç±»å‹è‡ªåŠ¨è¯†åˆ«**
   - å›¾ç‰‡ â†’ image block (æ”¯æŒé¢„è§ˆ)
   - è§†é¢‘ â†’ video block (æ”¯æŒæ’­æ”¾)
   - éŸ³é¢‘ â†’ audio block (æ”¯æŒæ’­æ”¾)
   - PDF â†’ pdf block (æ”¯æŒå†…åµŒ)
   - å…¶ä»– â†’ file block

3. **ä¼šè¯å¤±æ•ˆæ™ºèƒ½é‡å»º**
   - æ¯ä¸ªåˆ†ç‰‡ä¸Šä¼ å‰æ£€æµ‹ä¼šè¯çŠ¶æ€
   - ä¼šè¯å¤±æ•ˆæ—¶è‡ªåŠ¨é‡æ–°åˆ›å»ºä¸Šä¼ ä¼šè¯
   - æ— éœ€ä»å¤´å¼€å§‹é‡è¯•æ•´ä¸ªæ–‡ä»¶

4. **Rich UI å®æ—¶è¿›åº¦**
   - æ€»è¿›åº¦æ¡ + é€Ÿåº¦ + å‰©ä½™æ—¶é—´
   - æ¯ä¸ªæ–‡ä»¶ç‹¬ç«‹è¿›åº¦æ˜¾ç¤º
   - åˆ†ç‰‡è¿›åº¦ (å½“å‰åˆ†ç‰‡/æ€»åˆ†ç‰‡)
   - é‡è¯•çŠ¶æ€å®æ—¶æ˜¾ç¤º

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- âœ… å¤§æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼  (æ”¯æŒ5GB+)
- âœ… å°æ–‡ä»¶ç›´ä¼ ä¼˜åŒ– (â‰¤20MB)
- âœ… è‡ªåŠ¨ä¼ªè£…ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼
- âœ… å¤šçº¿ç¨‹å¹¶å‘ä¸Šä¼ /ä¸‹è½½
- âœ… ç›®å½•ç»“æ„ä¿æŒä¸Šä¼ 
- âœ… Aria2 é«˜é€Ÿä¸‹è½½é›†æˆ
- âœ… IDM ä»»åŠ¡å¯¼å‡º
- âœ… æ–‡ä»¶é“¾æ¥ç¼“å­˜ (40åˆ†é’Ÿ)
- âœ… æ‰¹é‡å»é™¤ .txt åç¼€

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

1. é…ç½®ç¯å¢ƒå˜é‡:
```bash
# .env æ–‡ä»¶
NOTION_TOKEN=your_notion_integration_token
NOTION_VERSION=2025-09-03  # å¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
```

2. å®‰è£…ä¾èµ–:
```bash
pip install requests questionary rich python-dotenv packaging
```

3. è¿è¡Œ:
```bash
python main.py
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ main.py      # ä¸»ç¨‹åºã€ä¸Šä¼ å™¨å’Œç”¨æˆ·ç•Œé¢
â”œâ”€â”€ notion.py    # Notion API å°è£… (ä¸Šä¼ /ä¸‹è½½æ ¸å¿ƒ)
â”œâ”€â”€ aria2.py     # Aria2 ä¸‹è½½æœåŠ¡
â””â”€â”€ .env         # ç¯å¢ƒé…ç½®
```

## ğŸ”§ API è¯´æ˜

```python
from notion import NotionFileManager, UploadProgress, UploadStatus

# åˆå§‹åŒ–
manager = NotionFileManager(token="your_token")
manager.set_page("your_page_id")

# ä¸Šä¼ æ–‡ä»¶ï¼ˆå¸¦è¿›åº¦å›è°ƒï¼‰
def on_progress(p: UploadProgress):
    print(f"{p.filename}: {p.status.value} {p.uploaded}/{p.total}")

manager.upload_file("path/to/file.zip", progress_callback=on_progress)

# è·å–æ–‡ä»¶åˆ—è¡¨
files = manager.file_list()

# ä¸‹è½½æ–‡ä»¶
manager.download_file(files[0], "downloads/")
```

## ğŸ“„ License

GPL v3 - Copyright (C) 2025 Ruibin_Ningh & Zyx_2012
